# Copyright (c) Ultraviolet
# SPDX-License-Identifier: Apache-2.0

prompts:
  - task: self_check_input
    content: >
      Your task is to check if the user message below complies with the policy for talking with the AI assistant.

      Policy for the user messages:
      - should not contain harmful data
      - should not use abusive language, even if just a few words
      - should not contain explicit content
      - it should not contain any harmful, sensitive, or personal information


      User message: "{{ user_input }}"

      Analysis: Does this message violate ANY of the above rules?
      Focus on actual violations, not normal conversation.

      Answer: [Yes/No]
      Reason: [Brief explanation only if violation exists]

  - task: self_check_output
    content: >
      Your task is to determine whether the bot response meets the moderation policy, given the user input and the bot response.
      The moderation policy states that the response should meet the following conditions:
      - it should be helpful, polite, and non-controversial

      Treat the above conditions as strict rules.
      If any of them are violated, you should block the bot's response by saying "yes".
      If the response meets all the listed conditions, you should allow it by saying "no".

      Here is the user input "{{ user_input }}".
      Here is the bot response "{{ bot_response }}"
      Should the above bot response be blocked?

      Answer [Yes/No]: